<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ù–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ü–∞—Ä–æ–ª—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω */
        }
        .card {
            box-shadow: 0 10px 30px -5px rgba(44, 102, 230, 0.1), 0 4px 12px -2px rgba(44, 102, 230, 0.05);
        }
    </style>
</head>
<body class="min-h-screen flex items-start justify-center p-4 sm:p-8">
    <div class="w-full max-w-lg mt-8 bg-white rounded-xl card p-6 sm:p-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-2 text-center flex items-center justify-center">
            <span class="text-indigo-600 mr-3">üõ°Ô∏è</span> –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ù–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ü–∞—Ä–æ–ª—è
        </h1>
        <p class="text-sm text-gray-500 mb-6 text-center">–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –µ–≥–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–≤–µ—Ç–æ–≤.</p>

        <!-- –°–µ–∫—Ü–∏—è –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è -->
        <div class="mb-4">
            <label for="password-input" class="block text-sm font-medium text-gray-700 mb-2">–í–≤–µ–¥–∏—Ç–µ –ü–∞—Ä–æ–ª—å</label>
            <input type="password" id="password-input" placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å..." 
                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-base"
                   oninput="analyzePassword()">
        </div>
        
        <!-- –ü–æ–ª–∑—É–Ω–æ–∫ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ -->
        <div class="mb-6">
            <h2 class="text-lg font-semibold text-gray-700 mb-2">–°–ª–æ–∂–Ω–æ—Å—Ç—å: <span id="strength-text" class="font-bold text-gray-500">–û–∂–∏–¥–∞–Ω–∏–µ –≤–≤–æ–¥–∞...</span></h2>
            <div class="w-full h-3 bg-gray-200 rounded-full overflow-hidden">
                <div id="strength-bar" class="h-full transition-all duration-300 ease-in-out" style="width: 0%;"></div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è —É–ª—É—á—à–µ–Ω–∏–π –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π -->
        <div id="suggestions-box" class="p-4 bg-white rounded-lg border border-gray-200">
            <h3 class="text-base font-bold text-gray-800 mb-2">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –£–ª—É—á—à–µ–Ω–∏—é:</h3>
            <ul id="suggestions-list" class="list-disc pl-5 text-sm text-gray-600 space-y-1">
                <li class="suggestion-item text-green-600">–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å.</li>
            </ul>
        </div>
    </div>

    <script>
        // –ò–º–∏—Ç–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —É—Ç–µ—á–µ–∫ (—Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏!)
        const LEAKED_PASSWORDS = new Set(['password', '123456', 'qwerty', 'admin', '111111', 'abcdef', 'welcome', 'qweasd']);

        const strengthBar = document.getElementById('strength-bar');
        const strengthText = document.getElementById('strength-text');
        const passwordInput = document.getElementById('password-input');
        const suggestionsList = document.getElementById('suggestions-list');

        /**
         * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∏–ª—å –ø–æ–ª–æ—Å—ã –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ü–µ–Ω–∫–∏.
         * @param {number} score –û—Ü–µ–Ω–∫–∞ –æ—Ç 0 –¥–æ 4.
         */
        function setStrengthDisplay(score) {
            let width = (score / 4) * 100;
            let colorClass = 'bg-gray-400';
            let text = '–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π';

            switch (score) {
                case 0:
                    colorClass = 'bg-red-500';
                    text = '–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π';
                    width = 10;
                    break;
                case 1:
                    colorClass = 'bg-orange-500';
                    text = '–°–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å';
                    width = 25;
                    break;
                case 2:
                    colorClass = 'bg-yellow-500';
                    text = '–°—Ä–µ–¥–Ω—è—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å';
                    width = 50;
                    break;
                case 3:
                    colorClass = 'bg-blue-500';
                    text = '–ù–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å';
                    width = 75;
                    break;
                case 4:
                    colorClass = 'bg-green-600';
                    text = '–û—Ç–ª–∏—á–Ω–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å';
                    width = 100;
                    break;
            }

            strengthBar.style.width = width + '%';
            strengthBar.className = 'h-full transition-all duration-300 ease-in-out rounded-full ' + colorClass;
            strengthText.textContent = text;
            strengthText.className = 'font-bold transition-colors duration-300 ' + colorClass.replace('bg-', 'text-');
        }

        /**
         * –í—ã–ø–æ–ª–Ω—è–µ—Ç –∞–Ω–∞–ª–∏–∑ –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è.
         */
        function analyzePassword() {
            const password = passwordInput.value;
            const suggestions = [];
            let score = 0;

            if (password.length === 0) {
                setStrengthDisplay(0);
                suggestions.push({ text: '–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å.', severity: 'green' });
                updateSuggestions(suggestions);
                return;
            }

            // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ç–µ—á–∫—É (–°–∏–º—É–ª—è—Ü–∏—è)
            if (LEAKED_PASSWORDS.has(password.toLowerCase())) {
                suggestions.push({ 
                    text: '‚ö†Ô∏è –í–ê–ñ–ù–û: –≠—Ç–æ—Ç –ø–∞—Ä–æ–ª—å –∏–ª–∏ –µ–≥–æ —á–∞—Å—Ç–∏ –Ω–∞–π–¥–µ–Ω—ã –≤ –±–∞–∑–µ —É—Ç–µ—á–µ–∫! –ù–ï–ú–ï–î–õ–ï–ù–ù–û –°–ú–ï–ù–ò–¢–ï –ï–ì–û.', 
                    severity: 'red', 
                    critical: true 
                });
            }

            // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
            if (password.length < 8) {
                suggestions.push({ text: '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤.', severity: 'red' });
                score = 0; // –ù–∞—á–∏–Ω–∞–µ–º —Å 0, –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π
            } else if (password.length >= 8 && password.length < 12) {
                suggestions.push({ text: '–ü–æ–¥—É–º–∞–π—Ç–µ –æ —Ç–æ–º, —á—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å –¥–ª–∏–Ω—É –¥–æ 12+ —Å–∏–º–≤–æ–ª–æ–≤.', severity: 'yellow' });
                score = 1;
            } else {
                score = 1; // –ë–∞–∑–æ–≤—ã–π –±–∞–ª–ª –∑–∞ –¥–ª–∏–Ω—É >= 12
            }

            // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —Å–∏–º–≤–æ–ª–æ–≤
            let charTypes = 0;
            if (/[a-z]/.test(password)) charTypes++;
            if (/[A-Z]/.test(password)) charTypes++;
            if (/[0-9]/.test(password)) charTypes++;
            if (/[^a-zA-Z0-9\s]/.test(password)) charTypes++;

            score += Math.min(charTypes, 3); // –ú–∞–∫—Å. 3 –±–∞–ª–ª–∞ –∑–∞ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Ç–∏–ø–æ–≤

            if (charTypes < 2) {
                suggestions.push({ text: '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –±—É–∫–≤, —Ü–∏—Ñ—Ä –∏ —Å–∏–º–≤–æ–ª–æ–≤.', severity: 'red' });
            }
            if (charTypes < 3) {
                if (!/[A-Z]/.test(password)) suggestions.push({ text: '–î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã.', severity: 'yellow' });
                if (!/[0-9]/.test(password)) suggestions.push({ text: '–î–æ–±–∞–≤—å—Ç–µ —Ü–∏—Ñ—Ä—ã (0-9).', severity: 'yellow' });
                if (!/[^a-zA-Z0-9\s]/.test(password)) suggestions.push({ text: '–î–æ–±–∞–≤—å—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (!, @, # –∏ —Ç. –¥.).', severity: 'yellow' });
            }
            
            // –û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ (–º–∞–∫—Å–∏–º—É–º 4)
            score = Math.min(score, 4);

            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª 1, –µ—Å–ª–∏ –¥–ª–∏–Ω–∞ >= 8
            if (password.length >= 8 && score === 0) score = 1; 

            // –ï—Å–ª–∏ –µ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–± —É—Ç–µ—á–∫–µ, –æ—Ü–µ–Ω–∫–∞ –≤—Å–µ–≥–¥–∞ 1
            const hasCritical = suggestions.some(s => s.critical);
            if (hasCritical) {
                score = 1;
            }
            
            setStrengthDisplay(score);
            updateSuggestions(suggestions);
        }

        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–æ–≤–µ—Ç–æ–≤ –≤ UI.
         * @param {Array<Object>} suggestions –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ {text, severity, critical}.
         */
        function updateSuggestions(suggestions) {
            suggestionsList.innerHTML = ''; // –û—á–∏—Å—Ç–∫–∞
            
            if (suggestions.length === 0) {
                suggestionsList.innerHTML = '<li class="text-green-600">‚úÖ –û—Ç–ª–∏—á–Ω—ã–π –ø–∞—Ä–æ–ª—å! –û–Ω –¥–ª–∏–Ω–Ω—ã–π, —Å–ª–æ–∂–Ω—ã–π –∏ –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ —É—Ç–µ—á–µ–∫.</li>';
                return;
            }

            // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ > –ö—Ä–∞—Å–Ω—ã–µ > –ñ–µ–ª—Ç—ã–µ > –ó–µ–ª–µ–Ω—ã–µ
            suggestions.sort((a, b) => {
                const priority = { 'red': 3, 'yellow': 2, 'green': 1 };
                if (a.critical && !b.critical) return -1;
                if (!a.critical && b.critical) return 1;
                return priority[b.severity] - priority[a.severity];
            });

            suggestions.forEach(suggestion => {
                const li = document.createElement('li');
                let colorClass = 'text-gray-600';

                switch (suggestion.severity) {
                    case 'red':
                        colorClass = 'text-red-600 font-semibold';
                        break;
                    case 'yellow':
                        colorClass = 'text-yellow-600';
                        break;
                    case 'green':
                        colorClass = 'text-green-600';
                        break;
                }
                
                if (suggestion.critical) {
                    colorClass = 'text-red-800 bg-red-100 p-2 rounded-md font-extrabold';
                    li.classList.add('list-none', 'ml-[-20px]'); // –°–¥–µ–ª–∞—Ç—å –µ–≥–æ –±–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω—ã–º
                }
                
                li.className = colorClass;
                li.textContent = suggestion.text;
                suggestionsList.appendChild(li);
            });
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        setStrengthDisplay(0);
    </script>
</body>
</html>
